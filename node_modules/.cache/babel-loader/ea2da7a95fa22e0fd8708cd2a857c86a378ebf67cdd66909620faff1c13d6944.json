{"ast":null,"code":"import _toConsumableArray from\"C:/Users/\\u05DB\\u05D4\\u05DF \\u05D0\\u05E8\\u05D6\\u05D9/Documents/\\u05E9\\u05D5\\u05E9\\u05D9/react/storeapp/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/\\u05DB\\u05D4\\u05DF \\u05D0\\u05E8\\u05D6\\u05D9/Documents/\\u05E9\\u05D5\\u05E9\\u05D9/react/storeapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{Link}from'react-router-dom';import data from'../dataForProject';import\"./style/all_products.css\";import\"./style/shared_page.css\";import'bootstrap/dist/css/bootstrap.css';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function All_products(_ref){var filterInfo=_ref.filterInfo,setFilterInfo=_ref.setFilterInfo,setSelectedButton=_ref.setSelectedButton;var _useState=useState(data),_useState2=_slicedToArray(_useState,2),filterData=_useState2[0],setFilterData=_useState2[1];var handleDeleteProduct=function handleDeleteProduct(productId){var index=data.findIndex(function(p){return p.id==productId;});data.splice(index,1);setFilterData(_toConsumableArray(data));setSelectedButton(\"\");setFilterInfo(\"\");};var handleIncreaseQuantity=function handleIncreaseQuantity(productId){var index=data.findIndex(function(p){return p.id==productId;});data[index].quantity++;setFilterData(_toConsumableArray(data));};var handleDecreaseQuantity=function handleDecreaseQuantity(productId){var index=data.findIndex(function(p){return p.id==productId;});if(data[index].quantity!=0){data[index].quantity--;setFilterData(_toConsumableArray(data));}};useEffect(function(){},[filterData]);useEffect(function(){var filteredProducts=data.filter(function(product){return product.title.toLocaleLowerCase().includes(filterInfo)||filterInfo===\"\"||product.category.toLocaleLowerCase().includes(filterInfo)&&filterInfo!=\"men's clothing\"||product.category===filterInfo;});setFilterData(_toConsumableArray(filteredProducts));},[filterInfo]);function ProductCard(_ref2){var product=_ref2.product,onDelete=_ref2.onDelete,increase=_ref2.increase,decrease=_ref2.decrease;var _useState3=useState(product.quantity),_useState4=_slicedToArray(_useState3,2),quantityProduct=_useState4[0],setQuantityProduct=_useState4[1];var handleDelete=function handleDelete(){onDelete(product.id);};var handleIncreaseQuaty=function handleIncreaseQuaty(){increase(product.id);};var handleDecreaseQuaty=function handleDecreaseQuaty(){decrease(product.id);};return/*#__PURE__*/_jsxs(\"div\",{className:\"productCard\",children:[/*#__PURE__*/_jsx(Link,{to:\"/product_details\",state:product,children:/*#__PURE__*/_jsx(\"div\",{className:\"image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:product.image,alt:product.description})})}),/*#__PURE__*/_jsx(\"div\",{className:\"data\",children:product.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions quantityIcons\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"actionIcon icons quantityIcon\",children:/*#__PURE__*/_jsx(\"p\",{className:\"hoverIcon\",onClick:handleIncreaseQuaty,children:\"+1\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actionIcon icons quantityIcon\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"hoverIcon quty\",children:[\" \",quantityProduct]})}),/*#__PURE__*/_jsx(\"div\",{className:\"actionIcon icons quantityIcon\",children:/*#__PURE__*/_jsx(\"p\",{className:\"hoverIcon\",onClick:handleDecreaseQuaty,children:\" -1\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"actionIcon\",onClick:handleDelete,children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-trash3-fill icons hoverIcon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"actionIcon\",children:/*#__PURE__*/_jsx(Link,{to:\"/update_product\",state:product,children:/*#__PURE__*/_jsx(\"i\",{className:\"icons bi bi-pencil-fill custom-link hoverIcon\"})})})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-star-fill \".concat(product.rating.rate>4.5?\"\":\"notRating\")})})]});}return/*#__PURE__*/_jsxs(\"div\",{id:\"allProducts\",className:\"pageComponent withFilter\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"titlePage\",children:\"Products\"}),/*#__PURE__*/_jsx(\"div\",{id:\"container\",children:filterData.map(function(product){return/*#__PURE__*/_jsx(ProductCard,{product:product,onDelete:handleDeleteProduct,increase:handleIncreaseQuantity,decrease:handleDecreaseQuantity},product.id);})})]});}export default All_products;","map":{"version":3,"names":["React","useState","Link","data","useEffect","jsx","_jsx","jsxs","_jsxs","All_products","_ref","filterInfo","setFilterInfo","setSelectedButton","_useState","_useState2","_slicedToArray","filterData","setFilterData","handleDeleteProduct","productId","index","findIndex","p","id","splice","_toConsumableArray","handleIncreaseQuantity","quantity","handleDecreaseQuantity","filteredProducts","filter","product","title","toLocaleLowerCase","includes","category","ProductCard","_ref2","onDelete","increase","decrease","_useState3","_useState4","quantityProduct","setQuantityProduct","handleDelete","handleIncreaseQuaty","handleDecreaseQuaty","className","children","to","state","src","image","alt","description","onClick","concat","rating","rate","map"],"sources":["C:/Users/כהן ארזי/Documents/שושי/react/storeapp/src/components/all_products.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport data from '../dataForProject';\r\nimport \"./style/all_products.css\"\r\nimport \"./style/shared_page.css\"\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport { useEffect } from 'react';\r\n\r\nfunction All_products({ filterInfo, setFilterInfo, setSelectedButton }) {\r\n  const [filterData, setFilterData] = useState(data);\r\n  const handleDeleteProduct = (productId) => {\r\n    const index = data.findIndex(p => p.id == productId);\r\n    data.splice(index, 1);\r\n    setFilterData([...data]);\r\n    setSelectedButton(\"\");\r\n    setFilterInfo(\"\");\r\n  };\r\n  const handleIncreaseQuantity = (productId) => {\r\n    const index = data.findIndex(p => p.id == productId);\r\n    data[index].quantity++;\r\n    setFilterData([...data])\r\n  };\r\n  const handleDecreaseQuantity = (productId) => {\r\n    const index = data.findIndex(p => p.id == productId);\r\n    if (data[index].quantity != 0) {\r\n      data[index].quantity--;\r\n      setFilterData([...data])\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    \r\n  }, [filterData]);\r\n\r\n  useEffect(() => {\r\n    const filteredProducts = data.filter(\r\n      (product) =>\r\n        product.title.toLocaleLowerCase().includes(filterInfo)\r\n        || filterInfo === \"\"\r\n        || (product.category.toLocaleLowerCase().includes(filterInfo) && filterInfo != \"men's clothing\")\r\n        || product.category === filterInfo\r\n\r\n    );\r\n    setFilterData([...filteredProducts]);\r\n  }, [filterInfo]);\r\n\r\n\r\n  function ProductCard({ product, onDelete, increase, decrease }) {\r\n    const [quantityProduct, setQuantityProduct] = useState(product.quantity);\r\n    const handleDelete = () => {\r\n      onDelete(product.id);\r\n    };\r\n    const handleIncreaseQuaty = () => {\r\n      increase(product.id);\r\n    };\r\n    const handleDecreaseQuaty = () => {\r\n      decrease(product.id);\r\n    };\r\n    return (\r\n      <div className=\"productCard\" >\r\n        <Link to=\"/product_details\" state={product}>\r\n          <div className=\"image-container\">\r\n            <img src={product.image} alt={product.description} />\r\n          </div>\r\n        </Link>\r\n        <div className=\"data\">{product.title}</div>\r\n        <div className=\"actions quantityIcons\">\r\n          <div className=\"actionIcon icons quantityIcon\" >\r\n            <p className='hoverIcon' onClick={handleIncreaseQuaty}>+1</p>\r\n\r\n          </div>\r\n          <div className=\"actionIcon icons quantityIcon\" >\r\n            <p className='hoverIcon quty'> {quantityProduct}</p>\r\n          </div>\r\n          <div className=\"actionIcon icons quantityIcon\" >\r\n            <p className='hoverIcon' onClick={handleDecreaseQuaty}> -1</p>\r\n          </div>\r\n        </div>\r\n        <div className=\"actions\">\r\n          <div className=\"actionIcon\" onClick={handleDelete}>\r\n            <i className=\"bi bi-trash3-fill icons hoverIcon\"  ></i>\r\n          </div>\r\n          <div className=\"actionIcon\">\r\n            <Link to=\"/update_product\" state={product}>\r\n              <i className=\"icons bi bi-pencil-fill custom-link hoverIcon\"></i>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div >\r\n          <i className={`bi bi-star-fill ${product.rating.rate > 4.5 ? `` : `notRating`}`} ></i>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div id=\"allProducts\" className='pageComponent withFilter'>\r\n      <div className=\"titlePage\">\r\n        Products\r\n      </div>\r\n      <div id=\"container\">\r\n        {filterData.map((product) => (\r\n          <ProductCard key={product.id}\r\n            product={product}\r\n            onDelete={handleDeleteProduct}\r\n            increase={handleIncreaseQuantity}\r\n            decrease={handleDecreaseQuantity}\r\n          />))}\r\n      </div>\r\n    </div>)\r\n}\r\n\r\nexport default All_products"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}